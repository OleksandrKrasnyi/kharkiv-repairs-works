# üêç PYTHON –ö–ê–ß–ï–°–¢–í–û –ö–û–î–ê

## üìä –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –î–†–ê–ú–ê–¢–ò–ß–ï–°–ö–û–ï –£–õ–£–ß–®–ï–ù–ò–ï
- **–ë—ã–ª–æ**: 353 –æ—à–∏–±–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **–°—Ç–∞–ª–æ**: 10 –æ—à–∏–±–æ–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **–£–ª—É—á—à–µ–Ω–∏–µ**: **97%** (343 –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

### üîß –¢–∏–ø—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ (2 ‚Üí 0)
- ‚úÖ **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ (W293, W292, W291)
- ‚úÖ **–ò–º–ø–æ—Ä—Ç—ã** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ (I001, F401)
- ‚ö†Ô∏è **Exception handling** - –æ—Å—Ç–∞–ª–∏—Å—å 10 –æ—à–∏–±–æ–∫ B904 (—Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. Ruff - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç–µ—Ä
```bash
uv run ruff check                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
uv run ruff check --fix              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
uv run ruff check --unsafe-fixes --fix # –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
uv run ruff format                   # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```

### 2. MyPy - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ pyproject.toml)
```bash
uv run mypy backend/                 # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
```

## üìã –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
python scripts/python-check.py

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
python scripts/python-fix.py
```

### –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
uv run ruff check

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫
uv run ruff check --statistics

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
uv run ruff check --fix && uv run ruff format
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### pyproject.toml
```toml
[tool.ruff]
target-version = "py311"
line-length = 88

[tool.ruff.lint]
select = [
    "E",  # pycodestyle errors
    "W",  # pycodestyle warnings
    "F",  # pyflakes
    "I",  # isort
    "B",  # flake8-bugbear
    "C4", # flake8-comprehensions
    "UP", # pyupgrade
]
ignore = [
    "E501",  # line too long, handled by black
    "B008",  # do not perform function calls in argument defaults
    "C901",  # too complex
]

[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401"]

[tool.mypy]
python_version = "3.11"
check_untyped_defs = true
disallow_any_generics = true
disallow_untyped_defs = true
follow_imports = "silent"
strict_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
disallow_any_unimported = true
no_implicit_optional = true
show_error_codes = true
```

## üéØ –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã (B904)

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
```python
# ‚ùå –ü–ª–æ—Ö–æ - –Ω–µ –≤–∏–¥–Ω–æ –∏—Å—Ö–æ–¥–Ω–æ–π –æ—à–∏–±–∫–∏
except Exception as e:
    raise HTTPException(status_code=500, detail=str(e))

# ‚úÖ –•–æ—Ä–æ—à–æ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ü–µ–ø–æ—á–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π
except Exception as e:
    raise HTTPException(status_code=500, detail=str(e)) from e

# ‚úÖ –ò–ª–∏ —è–≤–Ω–æ –ø–æ–¥–∞–≤–ª—è–µ–º
except Exception as e:
    raise HTTPException(status_code=500, detail=str(e)) from None
```

### –ú–µ—Å—Ç–∞ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. `backend/app/routers/streets.py` - 2 –º–µ—Å—Ç–∞
2. `tests/legacy/old_version/main.py` - 8 –º–µ—Å—Ç

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞–±–æ—á–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

### Pre-commit —Ö—É–∫
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
uv add --dev pre-commit

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
uv run pre-commit install
```

### CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏
```yaml
# –î–æ–±–∞–≤–∏—Ç—å –≤ GitHub Actions
- name: Python Quality Check
  run: |
    python scripts/python-check.py
```

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

| –ê—Å–ø–µ–∫—Ç | Frontend | Python |
|--------|----------|--------|
| –ù–∞—á–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ | 1,338 | 353 |
| –§–∏–Ω–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ | 58 | 10 |
| –£–ª—É—á—à–µ–Ω–∏–µ | 96% | 97% |
| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | ESLint + Prettier | Ruff + MyPy |
| –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | ‚úÖ | ‚úÖ |

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Python –∫–æ–¥ —Ç–µ–ø–µ—Ä—å **–≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**:
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PEP 8
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
- ‚ö†Ô∏è –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã exception handling

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 10 –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø—Ä–æ–±–ª–µ–º B904 –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 100% –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞. 